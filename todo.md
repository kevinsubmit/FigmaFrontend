# FigmaFrontend Project TODO

## 预约提醒和通知系统

### 后端开发
- [x] 分析现有Notification模型和数据库结构
- [x] 创建通知服务模块(notification_service.py)
- [x] 实现预约前24小时提醒功能
- [x] 实现预约前1小时提醒功能
- [x] 实现预约状态变更通知
- [x] 创建定时任务调度器(使用APScheduler)
- [x] 添加通知API端点(获取、标记已读、删除)

### 前端开发
- [x] 完善Notifications组件UI
- [x] 实现通知列表展示
- [x] 实现通知标记已读功能
- [x] 实现通知删除功能
- [x] 添加通知未读数量显示
- [ ] 集成实时通知推送(可选WebSocket)

### 测试
- [x] 单元测试通知服务
- [x] 测试定时任务触发
- [x] 测试前端通知展示
- [x] 端到端测试完整流程

### 文档
- [ ] 编写通知系统使用文档
- [ ] 更新API文档

## 店铺详情页增强

### 后端开发
- [x] 创建店铺作品(Portfolio)数据模型
- [x] 实现店铺作品上传API
- [x] 实现店铺作品列表API
- [x] 实现店铺作品删除API
- [x] 创建营业时间设置模型(已存在StoreHours)
- [x] 实现营业时间设置API(已存在)
- [x] 创建节假日设置模型
- [x] 实现节假日设置API
- [x] 实现店铺统计API(评分、预约数等)(已存在)

### 前端开发
- [x] 增强店铺详情页UI
- [x] 添加作品展示区域(Portfolio)
- [x] 添加店铺评分和统计展示(已存在)
- [x] 添加营业时间展示(已存在)
- [x] 添加节假日提示(创建了API和服务层)
- [x] 集成地图导航功能(已存在)
- [x] 优化店铺详情页布局

### 测试
- [x] 测试作品上传和展示
- [x] 测试营业时间设置
- [x] 测试节假日设置
- [x] 测试地图导航(已存在)
- [x] 端到端测试

## 积分和优惠券系统

### 需求确认
- [x] 先开发积分系统和优惠券系统
- [x] 积分获取规则: 消费1美金=1积分(订单完成后)
- [x] 积分兑换: 100积分=5美金优惠券
- [x] 优惠券类型: 固定金额券(普通/新人/生日) + 折扣券
- [x] 优惠券来源: 系统发放/积分兑换/推荐好友/活动赠送
- [x] 积分无有效期,优惠券有有效期
- [x] 管理员后台后期开### 后端开发
- [x] 创建 user_points模型(用户积分表)
- [x] 创建 point_transactions模型(积分明细表)
- [x] 创建 coupons模型(优惠券模板表)
- [x] 创建 user_coupons模型(用户优惠券表)- [x] 实现积分获取API(订单完成触发)
- [x] 实现积分查询API
- [x] 实现积分明细API
- [x] 实现积分兑换优惠券API
- [x] 实现优惠券列表API
- [x] 实现领取优惠券API
- [x] 实现我的优惠券API
- [x] 实现优惠券使用API
- [x] 实现优惠券过期检查

### 前端开发
- [x] 创建MyPoints页面
- [x] 显示积分余额
- [x] 显示积分明细列表
- [x] 实现积分兑换优惠券功能(在MyCoupons中)
- [x] 创建MyCoupons页面
- [x] 显示优惠券列表(可用/已使用/已过期)
- [x] 实现优惠券详情查看
- [ ] 集成预约支付流程(选择优惠券)(暂不开发)
- [x] 更新Profile页面显示真实数据(已集成API)

### 测试
- [x] 测试积分获取(订单完成)
- [x] 测试积分兑换优惠券
- [x] 测试优惠券使用
- [x] 测试优惠券过期
- [x] 端到端测试

### 文档
- [ ] 编写积分和优惠券系统文档
- [ ] 更新API文档
